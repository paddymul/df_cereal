import React from 'react';
import _ from 'lodash';

import { tableFromIPC } from 'apache-arrow';

import { SimpleDFWidget} from '../../../js/SimpleDFWidget'
import { arrowToDFDataProxy, base64ToBytes } from '../../../js/arrowUtils';


const raw_ints = [
        255,255,255,255,56,1,0,0,16,0,0,0,0,0,10,0,16,0,14,0,7,0,8,0,10,0,0,0,0,0,0,1,8,0,0,
        0,0,0,4,0,124,255,255,255,4,0,0,0,4,0,0,0,216,0,0,0,152,0,0,0,68,0,0,0,4,0,0,0,72,255,
        255,255,20,0,0,0,0,0,0,1,20,0,0,0,0,0,0,3,16,0,0,0,1,0,0,0,100,0,0,0,0,0,0,0,54,255,
        255,255,0,0,2,0,16,0,28,0,8,0,15,0,23,0,24,0,4,0,16,0,16,0,0,0,48,0,0,0,20,0,0,0,0,0,
        0,1,20,0,0,0,0,0,0,5,16,0,0,0,1,0,0,0,99,0,0,0,0,0,0,0,180,255,255,255,8,0,8,0,0,0,4,
        0,8,0,0,0,12,0,0,0,8,0,12,0,8,0,7,0,8,0,0,0,0,0,0,1,32,0,0,0,212,255,255,255,20,0,0,
        0,0,0,0,1,20,0,0,0,0,0,0,6,20,0,0,0,1,0,0,0,98,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,16,0,24,
        0,4,0,11,0,19,0,20,0,0,0,12,0,16,0,0,0,20,0,0,0,0,0,0,1,20,0,0,0,0,0,0,3,24,0,0,0,
        1,0,0,0,97,0,0,0,0,0,0,0,0,0,6,0,8,0,6,0,6,0,0,0,0,0,2,0,255,255,255,255,176,0,0,0,20,
        0,0,0,0,0,0,0,12,0,28,0,26,0,19,0,20,0,4,0,12,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        2,16,0,0,0,0,0,4,0,8,0,10,0,0,0,4,0,8,0,0,0,16,0,0,0,0,0,10,0,24,0,12,0,8,0,4,0,10,
        0,0,0,20,0,0,0,72,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,1,0,0,
        0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,6,0,0,0,0,0,0,0,102,111,111,98,97,
        114,0,0,255,255,255,255,24,1,0,0,20,0,0,0,0,0,0,0,12,0,22,0,20,0,15,0,16,0,4,0,12,0,
        0,0,104,0,0,0,0,0,0,0,0,0,0,3,16,0,0,0,4,0,10,0,24,0,12,0,8,0,4,0,10,0,0,0,20,0,0,0,
        152,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,64,0,0,0,0,
        0,0,0,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,88,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,88,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,64,0,0,0,0,0,0,40,64,1,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,205,204,204,204,204,204,55,192,51,51,51,51,
        51,51,34,64,255,255,255,255,0,0,0,0]
export default function() {
    // this test verifies that we can load UInt8 data and display the same table
    const t2Bytes = new Uint8Array(raw_ints);
    console.log(t2Bytes);
    const t2 = tableFromIPC(t2Bytes);
    const dfd2 = arrowToDFDataProxy(t2);    
    return <div><SimpleDFWidget df_data={dfd2}/></div>
}
